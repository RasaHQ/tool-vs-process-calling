version: "3.1"

actions:
  - get_booking_details
  - get_fare_rules
  - check_loyalty_status
  - calculate_cancellation_fee
  - apply_loyalty_discount

slots:
  booking_id:
    type: text
    mappings:
      - type: from_llm
  booking_details:
    type: text
    mappings:
      - type: controlled
  confirmation_correct_booking:
    type: bool
  booking_details_readable:
    type: text
    mappings:
      - type: controlled
  fare_rules:
    type: text
    mappings:
      - type: controlled
  loyalty_status:
    type: text
    mappings:
      - type: controlled
  cancellation_fee_details:
    type: text
    mappings:
      - type: controlled
  refund_details:
    type: text
    mappings:
      - type: controlled
  confirm_cancellation:
    type: bool


responses:
  utter_ask_booking_id:
    - text: "Please enter your booking ID"
  utter_booking_details:
    - text: "Here are your booking details:\n\n{booking_details_readable}"
  utter_general_fare_rules:
    - text: "Here's a short summary of the fetched penalties: {fare_rules}"
  utter_loyalty_rebate:
    - text: "According to your membership tier, {loyalty_status}"
  utter_cancellation_fee_details:
    - text: "Here is your refund summary: {cancellation_fee_details}"
  utter_refund_details:
    - text: "Here is final refund summary: {refund_details}"
  utter_ask_confirmation_correct_booking:
    - text: "Would you like me to start the cancellation process for the above booking?"
  utter_stop_cancellation:
    - text: "Alright, I'll stop the cancellation."
  utter_ask_confirm_cancellation:
    - text: "Would you like to proceed with the cancellation?"
  utter_booking_cancelled:
    - text: "Your booking {booking_id} has been cancelled and the refund will be processed within 5 working days."
#  utter_country_entry_reqs:
#    - text: "Your destination country has the following travel guidelines: {country_entry_requirements}"
#  utter_visa_reqs:
#    - text: "Your destination country has the following visa requirements: {visa_requirements}"
#  utter_show_flight_options:
#    - text: "Here are some flight options for you: \n\n {flight_options_readable}"
#  utter_ask_source_city:
#    - text: Which city will you depart from?
#  utter_ask_destination_city:
#    - text: Which city to do you want to go to?
#  utter_ask_date_of_travel:
#    - text: When do you want to travel?
#  utter_ask_chosen_flight_id:
#    - text: Which flight option do you prefer?
#  utter_ask_passenger_name:
#    - text: Please enter the passenger's full name
#  utter_ask_passenger_age:
#    - text: Please enter the passenger's age
#  utter_ask_passenger_passport_id:
#    - text: Please enter your passport number
#  utter_ask_passenger_nationality:
#    - text: What's your nationality?
